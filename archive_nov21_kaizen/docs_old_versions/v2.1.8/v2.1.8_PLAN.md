# v2.1.8 Release Plan

**Target**: November 18-20, 2025  
**Theme**: Quality & Choice

## Overview

v2.1.8 is a polish release focusing on fixing bugs, improving dependency management, and adding comprehensive tests.

## Key Changes

### 1. Critical Fixes âœ…
- Fixed relationship CLI TypeError
- Added `serialize_frontmatter()` helper
- Updated all documentation to v2.1.7

### 2. Smart Dependencies ðŸ†•
**Problem**: Core install pulls 500 MB of server deps

**Solution**: Optional dependency groups
```bash
# Lightweight CLI (~15 MB)
pip install whitemagic

# With semantic search (~2.5 GB)
pip install whitemagic[embeddings]

# Full stack (~3 GB)
pip install whitemagic[all]
```

**Setup Wizard Integration**:
- Interactive dependency selection
- Clear explanations for each component
- Size, privacy, and speed info
- Install only what you need

### 3. Comprehensive Tests
- 200+ tests target (currently 173)
- Full CLI coverage
- Relationship commands
- Template commands
- Setup wizard

### 4. Release Automation
- Single-command releases
- Version consistency checks
- Automated testing
- PyPI upload with confirmation

### 5. Self-Update Command
```bash
whitemagic self-update
```
- Check PyPI for updates
- Show release notes
- User confirmation
- Automatic upgrade

## Implementation Timeline

**Day 1**: Core fixes âœ… DONE  
**Day 2**: Dependency management  
**Day 3**: Testing & automation  
**Day 4**: Polish & release

## Breaking Changes

None! Fully backwards compatible.

## Migration

Existing users: Keep all dependencies  
New users: Choose during setup

See `memory/long_term/*v218*.md` for full spec!
