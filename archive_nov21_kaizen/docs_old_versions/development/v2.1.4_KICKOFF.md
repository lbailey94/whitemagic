# WhiteMagic v2.1.4 Development Kickoff

**Date**: November 12, 2025  
**Team**: 3 developers  
**Timeline**: 2-3 weeks (Nov 18 - Dec 6)  
**Theme**: Developer Experience & SDK

---

## âœ… Pre-Flight Checklist

- [x] v2.1.3 released and tagged
- [x] Post-release fixes committed (Docker V2, MCP noise)
- [x] Comprehensive roadmap created (`ROADMAP_v2.1.4_to_v3.0.md`)
- [x] Team alignment on scope and timeline
- [x] Create v2.1.4 development branch (`v2.1.4-dev`)
- [x] Set up project tracking (GitHub Issues #1, #2, #3)

---

## ðŸŽ¯ v2.1.4 Goals

### Primary Objectives
1. **One-command MCP setup** - Auto-configure any MCP-compatible IDE
2. **Official SDKs** - TypeScript + Python clients from OpenAPI schema
3. **Usage visibility** - Basic dashboard showing quotas/usage
4. **Adoption catalyst** - Make WhiteMagic dead-simple to integrate

### Success Metrics
- Setup time < 2 minutes (vs ~15 minutes manual)
- 50% reduction in setup-related support tickets
- SDK downloads > 100/week within 1 month
- Free â†’ Starter conversion baseline established

---

## ðŸ“‹ Feature Breakdown

### 1. MCP CLI Auto-Setup Helper (Week 1)

**Owner**: TBD  
**Effort**: 1 week  
**Priority**: P0 (Critical)

#### Scope
```bash
npx whitemagic-mcp setup
# or: npm install -g whitemagic-mcp && whitemagic-mcp setup
```

**What it does**:
1. Auto-detects MCP-compatible IDEs:
   - Cursor (`~/.cursor/mcp.json`)
   - Windsurf (`~/.windsurf/mcp.json`)
   - Claude Desktop (`~/Library/Application Support/Claude/claude_desktop_config.json`)
   - VS Code with Cline (`~/.config/Code/User/globalStorage/...`)
   - Generic MCP client (prompt for path)

2. Prompts for config:
   - WhiteMagic API key (with validation)
   - WM_BASE_PATH (default: `~/whitemagic` or auto-detect existing)
   - API endpoint (default: production, option for self-hosted)

3. Writes config JSON:
   - Backup existing config
   - Merge WhiteMagic MCP server entry
   - Set correct paths and environment variables

4. Tests connection:
   - Ping WhiteMagic MCP server
   - Verify API key works
   - Show success message with next steps

#### Files to Create
- `whitemagic-mcp/src/cli/setup.ts` - Main setup logic
- `whitemagic-mcp/src/cli/detect.ts` - IDE detection
- `whitemagic-mcp/src/cli/validate.ts` - Config validation
- `whitemagic-mcp/src/cli/backup.ts` - Config backup/restore

#### Testing Requirements
- Unit tests for each IDE detector
- Integration test with mock config files
- Test on macOS, Linux, Windows (via CI)

#### Documentation
- Update README with one-command setup
- Add troubleshooting guide
- Create video walkthrough (optional)

---

### 2. OpenAPI Client Generation (Week 1-2)

**Owner**: TBD  
**Effort**: 1 week  
**Priority**: P0 (Critical)

#### Scope

**TypeScript Client**:
```bash
npm install @whitemagic/client
```

**Python Client**:
```bash
pip install whitemagic-client
```

**What it does**:
- Auto-generate clients from FastAPI's OpenAPI schema
- Type-safe methods for all API endpoints
- Handle auth, retry, rate limiting
- Streaming support for future features

#### Implementation Plan

1. **Extract OpenAPI Schema** (Day 1)
   ```bash
   # Generate schema.json from FastAPI
   python -c "from whitemagic.api.app import app; import json; print(json.dumps(app.openapi()))" > schema.json
   ```

2. **TypeScript Client** (Day 2-3)
   - Use `openapi-typescript-codegen` or similar
   - Generate to `clients/typescript/`
   - Add custom client wrapper with:
     - API key auth
     - Retry logic
     - Error handling
   - Publish to npm as `@whitemagic/client`

3. **Python Client** (Day 3-4)
   - Use `openapi-python-client` or similar
   - Generate to `clients/python/`
   - Add custom client wrapper
   - Publish to PyPI as `whitemagic-client`

4. **Documentation** (Day 5)
   - Usage examples for both clients
   - API reference (auto-generated)
   - Migration guide (if users have custom clients)

#### Files to Create
- `scripts/generate_clients.sh` - Automation script
- `clients/typescript/` - TS client package
- `clients/python/` - Python client package
- `docs/sdk/typescript.md` - TS docs
- `docs/sdk/python.md` - Python docs

#### Publishing Requirements
- npm account with 2FA
- PyPI account with 2FA
- CI/CD pipeline for automated publishing
- Version sync with main package

#### Example Usage

**TypeScript**:
```typescript
import { WhiteMagicClient } from '@whitemagic/client';

const client = new WhiteMagicClient({
  apiKey: process.env.WHITEMAGIC_API_KEY,
  baseUrl: 'https://api.whitemagic.dev'
});

const memory = await client.memories.create({
  title: 'My first memory',
  content: 'This is stored via the SDK',
  type: 'short_term',
  tags: ['test']
});

console.log(memory.id);
```

**Python**:
```python
from whitemagic_client import WhiteMagicClient

client = WhiteMagicClient(
    api_key=os.getenv('WHITEMAGIC_API_KEY'),
    base_url='https://api.whitemagic.dev'
)

memory = client.memories.create(
    title='My first memory',
    content='This is stored via the SDK',
    type='short_term',
    tags=['test']
)

print(memory.id)
```

---

### 3. Basic Usage Dashboard (Week 2)

**Owner**: TBD  
**Effort**: 0.5 weeks  
**Priority**: P1 (Important)

#### Scope

Add `/dashboard/account` page showing:
1. **Current Plan**
   - Plan name (Free, Starter, Pro, etc.)
   - Upgrade button (if not on highest tier)

2. **Usage Meters**
   - API calls: X / Y per minute (RPM)
   - Daily quota: X / Y calls today
   - Memory count: X / Y total
   - Storage: X MB / Y GB

3. **Simple Charts** (Last 7 days)
   - API calls per day (bar chart)
   - Memories created per day

4. **Quick Actions**
   - Create memory
   - View API keys
   - Upgrade plan

#### Implementation

**Backend** (already exists):
- `GET /api/v1/users/me` - User info with quotas
- Add `GET /api/v1/users/me/usage` - Usage stats

**Frontend** (new):
- `dashboard/account.html` - New page
- `dashboard/account.js` - JavaScript for charts
- Use Chart.js or similar for visualizations

**Design**:
- Clean, minimal UI
- Mobile-responsive
- Match existing dashboard style

#### Files to Modify/Create
- `whitemagic/api/routes/users.py` - Add usage endpoint
- `dashboard/account.html` - New page
- `dashboard/account.js` - Client-side logic
- `dashboard/index.html` - Add link to account page

---

## ðŸ—“ï¸ Weekly Breakdown

### Week 1: Nov 18-22 (Setup & TypeScript)
**Monday-Tuesday**: MCP CLI auto-setup (detection + validation)  
**Wednesday**: MCP CLI auto-setup (config writing + testing)  
**Thursday**: TypeScript client generation + publishing  
**Friday**: Testing, documentation, bug fixes

**Deliverables**:
- [x] Working `npx whitemagic-mcp setup` command
- [x] `@whitemagic/client` published to npm
- [x] Updated README with setup instructions

---

### Week 2: Nov 25-29 (Python & Dashboard)
**Monday**: Python client generation  
**Tuesday**: Python client publishing to PyPI  
**Wednesday**: Basic usage dashboard backend  
**Thursday**: Basic usage dashboard frontend  
**Friday**: Testing, integration, bug fixes

**Deliverables**:
- [x] `whitemagic-client` published to PyPI
- [x] `/dashboard/account` page live
- [x] Usage API endpoint working

---

### Week 3: Dec 2-6 (Polish & Release)
**Monday-Tuesday**: Full testing (manual + automated)  
**Wednesday**: Documentation updates  
**Thursday**: Release notes, CHANGELOG  
**Friday**: Tag v2.1.4, deploy, announce

**Deliverables**:
- [x] All tests passing
- [x] Documentation complete
- [x] v2.1.4 tagged and released
- [x] Announcement post (social media, Discord, etc.)

---

## ðŸ“š Resources

### Documentation
- [FastAPI OpenAPI Schema](https://fastapi.tiangolo.com/advanced/extending-openapi/)
- [openapi-typescript-codegen](https://github.com/ferdikoomen/openapi-typescript-codegen)
- [openapi-python-client](https://github.com/openapi-generators/openapi-python-client)
- [Chart.js](https://www.chartjs.org/)

### Existing Code
- `whitemagic/api/` - REST API implementation
- `whitemagic-mcp/` - MCP server implementation
- `dashboard/` - Existing dashboard

### Accounts Needed
- npm account for `@whitemagic/client`
- PyPI account for `whitemagic-client`
- Whop API keys (already have)

---

## ðŸš€ Getting Started

### 1. Create Development Branch
```bash
cd /home/lucas/Desktop/whitemagic
git checkout -b v2.1.4-dev
git push -u origin v2.1.4-dev
```

### 2. Set Up Project Tracking
- Create GitHub milestone: v2.1.4
- Create issues for each feature
- Assign team members

### 3. Start Development
Pick a feature and start coding! Reference:
- `ROADMAP_v2.1.4_to_v3.0.md` - Overall strategy
- This file - Detailed implementation guide

---

## âš ï¸ Risks & Mitigation

### Risk 1: OpenAPI Client Generation Quality
**Mitigation**: 
- Test generators early (Day 1)
- Have manual client as backup
- Custom wrappers for better DX

### Risk 2: IDE Detection Complexity
**Mitigation**:
- Start with manual config option
- Add auto-detection incrementally
- Comprehensive testing on all platforms

### Risk 3: Timeline Slips
**Mitigation**:
- Ship MCP CLI + TypeScript SDK minimum (MVP)
- Python SDK can slip to v2.1.4.1 if needed
- Dashboard is nice-to-have, not blocker

---

## ðŸŽ‰ Definition of Done

v2.1.4 is ready to ship when:
- [ ] `npx whitemagic-mcp setup` works on macOS, Linux, Windows
- [ ] `@whitemagic/client` published to npm with docs
- [ ] `whitemagic-client` published to PyPI with docs
- [ ] `/dashboard/account` shows usage (even if basic)
- [ ] All existing tests still passing
- [ ] New features have tests (>80% coverage)
- [ ] Documentation updated
- [ ] CHANGELOG.md updated
- [ ] Release notes written
- [ ] Team approval to ship

---

## ðŸ“ž Communication Plan

**Daily Standups**: Quick async check-in (Discord/Slack)
- What did you do yesterday?
- What are you doing today?
- Any blockers?

**Weekly Sync**: End of week review
- Progress review
- Adjust timeline if needed
- Plan next week

**Ship Date**: December 6, 2025 (hard deadline)
- Cut scope if needed to hit date
- Quality over features

---

## ðŸŽ¯ Post-v2.1.4

After we ship, immediate next steps:
1. Gather user feedback on setup experience
2. Monitor SDK adoption (npm/PyPI downloads)
3. Track free â†’ paid conversion with dashboard
4. Plan v2.2.1 (monetization foundation)

---

**Let's build something amazing!** ðŸš€

Remember: We're not just building features, we're building **the memory infrastructure for the AI agent revolution**.

---

**Questions?** Reference the main roadmap or reach out to the team.

**Ready to start?** Create the v2.1.4-dev branch and pick your first task!
